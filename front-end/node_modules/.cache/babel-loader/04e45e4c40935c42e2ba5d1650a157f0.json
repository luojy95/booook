{"ast":null,"code":"import _defineProperty from \"/home/qingyu/Desktop/react-firebase-demo/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/qingyu/Desktop/react-firebase-demo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/qingyu/Desktop/react-firebase-demo/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/qingyu/Desktop/react-firebase-demo/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/qingyu/Desktop/react-firebase-demo/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/qingyu/Desktop/react-firebase-demo/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/qingyu/Desktop/react-firebase-demo/src/components/Account/index.js\";\nimport React, { Component } from 'react';\nimport { compose } from 'recompose';\nimport { AuthUserContext, withAuthorization, withEmailVerification } from '../Session';\nimport { withFirebase } from '../Firebase';\nimport { PasswordForgetForm } from '../PasswordForget';\nimport PasswordChangeForm from '../PasswordChange';\nvar SIGN_IN_METHODS = [{\n  id: 'password',\n  provider: null\n}, {\n  id: 'google.com',\n  provider: 'googleProvider'\n}, {\n  id: 'facebook.com',\n  provider: 'facebookProvider'\n}];\n\nvar AccountPage = function AccountPage() {\n  return React.createElement(AuthUserContext.Consumer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, function (authUser) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, \"Account: \", authUser.name), React.createElement(PasswordForgetForm, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }), React.createElement(PasswordChangeForm, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }));\n  });\n};\n\nvar SocialLoginToggle = function SocialLoginToggle(_ref) {\n  var onlyOneLeft = _ref.onlyOneLeft,\n      isEnabled = _ref.isEnabled,\n      signInMethod = _ref.signInMethod,\n      onLink = _ref.onLink,\n      onUnlink = _ref.onUnlink;\n  return isEnabled ? React.createElement(\"button\", {\n    type: \"button\",\n    onClick: function onClick() {\n      return onUnlink(signInMethod.id);\n    },\n    disabled: onlyOneLeft,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Deactivate \", signInMethod.id) : React.createElement(\"button\", {\n    type: \"button\",\n    onClick: function onClick() {\n      return onLink(signInMethod.provider);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Link \", signInMethod.id);\n};\n\nvar DefaultLoginToggle =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(DefaultLoginToggle, _Component);\n\n  function DefaultLoginToggle(props) {\n    var _this;\n\n    _classCallCheck(this, DefaultLoginToggle);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DefaultLoginToggle).call(this, props));\n\n    _this.onSubmit = function (event) {\n      event.preventDefault();\n\n      _this.props.onLink(_this.state.passwordOne);\n\n      _this.setState({\n        passwordOne: '',\n        passwordTwo: ''\n      });\n    };\n\n    _this.onChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.state = {\n      passwordOne: '',\n      passwordTwo: ''\n    };\n    return _this;\n  }\n\n  _createClass(DefaultLoginToggle, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          onlyOneLeft = _this$props.onlyOneLeft,\n          isEnabled = _this$props.isEnabled,\n          signInMethod = _this$props.signInMethod,\n          onUnlink = _this$props.onUnlink;\n      var _this$state = this.state,\n          passwordOne = _this$state.passwordOne,\n          passwordTwo = _this$state.passwordTwo;\n      var isInvalid = passwordOne !== passwordTwo || passwordOne === '';\n      return isEnabled ? React.createElement(\"button\", {\n        type: \"button\",\n        onClick: function onClick() {\n          return onUnlink(signInMethod.id);\n        },\n        disabled: onlyOneLeft,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Deactivate \", signInMethod.id) : React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        name: \"passwordOne\",\n        value: passwordOne,\n        onChange: this.onChange,\n        type: \"password\",\n        placeholder: \"New Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        name: \"passwordTwo\",\n        value: passwordTwo,\n        onChange: this.onChange,\n        type: \"password\",\n        placeholder: \"Confirm New Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        disabled: isInvalid,\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"Link \", signInMethod.id));\n    }\n  }]);\n\n  return DefaultLoginToggle;\n}(Component);\n\nvar LoginManagement = withFirebase(LoginManagementBase);\nexport default AccountPage;","map":{"version":3,"sources":["/home/qingyu/Desktop/react-firebase-demo/src/components/Account/index.js"],"names":["React","Component","compose","AuthUserContext","withAuthorization","withEmailVerification","withFirebase","PasswordForgetForm","PasswordChangeForm","SIGN_IN_METHODS","id","provider","AccountPage","authUser","name","SocialLoginToggle","onlyOneLeft","isEnabled","signInMethod","onLink","onUnlink","DefaultLoginToggle","props","onSubmit","event","preventDefault","state","passwordOne","setState","passwordTwo","onChange","target","value","isInvalid","LoginManagement","LoginManagementBase"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { compose } from 'recompose';\n\nimport {\n  AuthUserContext,\n  withAuthorization,\n  withEmailVerification,\n} from '../Session';\nimport { withFirebase } from '../Firebase';\nimport { PasswordForgetForm } from '../PasswordForget';\nimport PasswordChangeForm from '../PasswordChange';\n\nconst SIGN_IN_METHODS = [\n  {\n    id: 'password',\n    provider: null,\n  },\n  {\n    id: 'google.com',\n    provider: 'googleProvider',\n  },\n  {\n    id: 'facebook.com',\n    provider: 'facebookProvider',\n  },\n];\n\nconst AccountPage = () => (\n  <AuthUserContext.Consumer>\n    {authUser => (\n      <div>\n        <h1>Account: {authUser.name}</h1>\n        <PasswordForgetForm />\n        <PasswordChangeForm />\n      </div>\n    )}\n  </AuthUserContext.Consumer>\n);\n\nconst SocialLoginToggle = ({\n  onlyOneLeft,\n  isEnabled,\n  signInMethod,\n  onLink,\n  onUnlink,\n}) =>\n  isEnabled ? (\n    <button\n      type=\"button\"\n      onClick={() => onUnlink(signInMethod.id)}\n      disabled={onlyOneLeft}\n    >\n      Deactivate {signInMethod.id}\n    </button>\n  ) : (\n    <button\n      type=\"button\"\n      onClick={() => onLink(signInMethod.provider)}\n    >\n      Link {signInMethod.id}\n    </button>\n  );\n\nclass DefaultLoginToggle extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { passwordOne: '', passwordTwo: '' };\n  }\n\n  onSubmit = event => {\n    event.preventDefault();\n\n    this.props.onLink(this.state.passwordOne);\n    this.setState({ passwordOne: '', passwordTwo: '' });\n  };\n\n  onChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  render() {\n    const {\n      onlyOneLeft,\n      isEnabled,\n      signInMethod,\n      onUnlink,\n    } = this.props;\n\n    const { passwordOne, passwordTwo } = this.state;\n\n    const isInvalid =\n      passwordOne !== passwordTwo || passwordOne === '';\n\n    return isEnabled ? (\n      <button\n        type=\"button\"\n        onClick={() => onUnlink(signInMethod.id)}\n        disabled={onlyOneLeft}\n      >\n        Deactivate {signInMethod.id}\n      </button>\n    ) : (\n      <form onSubmit={this.onSubmit}>\n        <input\n          name=\"passwordOne\"\n          value={passwordOne}\n          onChange={this.onChange}\n          type=\"password\"\n          placeholder=\"New Password\"\n        />\n        <input\n          name=\"passwordTwo\"\n          value={passwordTwo}\n          onChange={this.onChange}\n          type=\"password\"\n          placeholder=\"Confirm New Password\"\n        />\n\n        <button disabled={isInvalid} type=\"submit\">\n          Link {signInMethod.id}\n        </button>\n      </form>\n    );\n  }\n}\n\nconst LoginManagement = withFirebase(LoginManagementBase);\n\nexport default AccountPage;"]},"metadata":{},"sourceType":"module"}