{"ast":null,"code":"import _regeneratorRuntime from \"/home/qingyu/Desktop/react-firebase-demo/front-end/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/qingyu/Desktop/react-firebase-demo/front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/qingyu/Desktop/react-firebase-demo/front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/qingyu/Desktop/react-firebase-demo/front-end/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/qingyu/Desktop/react-firebase-demo/front-end/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/qingyu/Desktop/react-firebase-demo/front-end/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/qingyu/Desktop/react-firebase-demo/front-end/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/qingyu/Desktop/react-firebase-demo/front-end/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/qingyu/Desktop/react-firebase-demo/front-end/src/components/Content/index.js\";\nimport React, { Component } from 'react';\nimport { Grid, Image, Segment } from 'semantic-ui-react';\nimport axios from 'axios';\n\nvar Content =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Content, _Component);\n\n  function Content() {\n    var _this;\n\n    _classCallCheck(this, Content);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Content).call(this));\n    _this.state = {\n      wish: [],\n      post: []\n    };\n    var id = window.sessionStorage.getItem('userId');\n    _this.detailClickHandler = _this.detailClickHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    var user = 'http://localhost:8000/api/users/';\n    var book = 'http://localhost:8000/api/books/';\n    var tempName = [];\n    var tempBook = [];\n    axios.get(user + id).then(\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(res) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return res.data.data.wishedBooks;\n\n              case 2:\n                tempName = _context.sent;\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()).then(function () {\n      for (var i = 0; i < tempName.length; i++) {\n        axios.get(book + tempName[i]).then(\n        /*#__PURE__*/\n        function () {\n          var _ref2 = _asyncToGenerator(\n          /*#__PURE__*/\n          _regeneratorRuntime.mark(function _callee2(res) {\n            var bk;\n            return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n              while (1) {\n                switch (_context2.prev = _context2.next) {\n                  case 0:\n                    _context2.next = 2;\n                    return res.data.data;\n\n                  case 2:\n                    bk = _context2.sent;\n                    tempBook.push(bk);\n\n                  case 4:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }\n            }, _callee2, this);\n          }));\n\n          return function (_x2) {\n            return _ref2.apply(this, arguments);\n          };\n        }());\n      }\n    }).then(function () {\n      _this.setState({\n        wish: tempBook.map(function (bk) {\n          return React.createElement(Grid.Column, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 33\n            },\n            __self: this\n          }, React.createElement(Segment, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 34\n            },\n            __self: this\n          }, React.createElement(Image, {\n            onClick: function onClick() {\n              return _this.detailClickHandler(bk._id);\n            },\n            src: bk.picture,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 35\n            },\n            __self: this\n          }), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 36\n            },\n            __self: this\n          }, \"Title: \", bk.title, React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 38\n            },\n            __self: this\n          }), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 39\n            },\n            __self: this\n          }), \"College: \", bk.college, React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 41\n            },\n            __self: this\n          }), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 42\n            },\n            __self: this\n          }), \"Description: \", bk.description)), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 46\n            },\n            __self: this\n          }));\n        })\n      });\n    });\n    axios.get(user + id).then(\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(res) {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return res.data.data.postedBooks;\n\n              case 2:\n                tempName = _context3.sent;\n\n              case 3:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      return function (_x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }()).then(function () {\n      for (var i = 0; i < tempName.length; i++) {\n        axios.get(book + tempName[i]).then(\n        /*#__PURE__*/\n        function () {\n          var _ref4 = _asyncToGenerator(\n          /*#__PURE__*/\n          _regeneratorRuntime.mark(function _callee4(res) {\n            var bk;\n            return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n              while (1) {\n                switch (_context4.prev = _context4.next) {\n                  case 0:\n                    _context4.next = 2;\n                    return res.data.data;\n\n                  case 2:\n                    bk = _context4.sent;\n                    tempBook.push(bk);\n\n                  case 4:\n                  case \"end\":\n                    return _context4.stop();\n                }\n              }\n            }, _callee4, this);\n          }));\n\n          return function (_x4) {\n            return _ref4.apply(this, arguments);\n          };\n        }());\n      }\n    }).then(function () {\n      console.log(tempBook);\n\n      _this.setState({\n        post: tempBook.map(function (bk) {\n          return React.createElement(Grid.Column, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 68\n            },\n            __self: this\n          }, React.createElement(Segment, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 69\n            },\n            __self: this\n          }, React.createElement(Image, {\n            onClick: function onClick() {\n              return _this.detailClickHandler(bk._id);\n            },\n            src: bk.picture,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 70\n            },\n            __self: this\n          }), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 71\n            },\n            __self: this\n          }, \"Title: \", bk.title, React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 73\n            },\n            __self: this\n          }), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 74\n            },\n            __self: this\n          }), \"College: \", bk.college, React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 76\n            },\n            __self: this\n          }), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 77\n            },\n            __self: this\n          }), \"Description: \", bk.description)), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 81\n            },\n            __self: this\n          }));\n        })\n      });\n    });\n    return _this;\n  }\n\n  _createClass(Content, [{\n    key: \"detailClickHandler\",\n    value: function detailClickHandler(value) {\n      window.location.href = 'http://localhost:3000/details/' + value;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \" Posted Books \"), React.createElement(Grid, {\n        stackable: true,\n        columns: 3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, console.log(\"posted books \" + this.state.post), React.createElement(Grid.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, this.state.post)), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \" Wished Books \"), React.createElement(Grid, {\n        stackable: true,\n        columns: 3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(Grid.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, this.state.wish)));\n    }\n  }]);\n\n  return Content;\n}(Component);\n\nexport default Content;","map":{"version":3,"sources":["/home/qingyu/Desktop/react-firebase-demo/front-end/src/components/Content/index.js"],"names":["React","Component","Grid","Image","Segment","axios","Content","state","wish","post","id","window","sessionStorage","getItem","detailClickHandler","bind","user","book","tempName","tempBook","get","then","res","data","wishedBooks","i","length","bk","push","setState","map","_id","picture","title","college","description","postedBooks","console","log","value","location","href"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,EAAeC,KAAf,EAAsBC,OAAtB,QAAqC,mBAArC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;IAEMC,O;;;;;AACL,qBAAc;AAAA;;AAAA;;AACb;AACA,UAAKC,KAAL,GAAa;AACZC,MAAAA,IAAI,EAAE,EADM;AAEZC,MAAAA,IAAI,EAAE;AAFM,KAAb;AAIA,QAAIC,EAAE,GAAGC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,QAA9B,CAAT;AACA,UAAKC,kBAAL,GAA0B,MAAKA,kBAAL,CAAwBC,IAAxB,uDAA1B;AAEA,QAAIC,IAAI,GAAG,kCAAX;AACA,QAAIC,IAAI,GAAG,kCAAX;AAEA,QAAIC,QAAQ,GAAG,EAAf;AACA,QAAIC,QAAQ,GAAG,EAAf;AACAd,IAAAA,KAAK,CAACe,GAAN,CAAUJ,IAAI,GAAGN,EAAjB,EAAqBW,IAArB;AAAA;AAAA;AAAA;AAAA;AAAA,+BAA0B,iBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACRA,GAAG,CAACC,IAAJ,CAASA,IAAT,CAAcC,WADN;;AAAA;AACzBN,gBAAAA,QADyB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA1B;;AAAA;AAAA;AAAA;AAAA,SAEGG,IAFH,CAEQ,YAAM;AACb,WAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGP,QAAQ,CAACQ,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;AACzCpB,QAAAA,KAAK,CAACe,GAAN,CAAUH,IAAI,GAAGC,QAAQ,CAACO,CAAD,CAAzB,EAA8BJ,IAA9B;AAAA;AAAA;AAAA;AAAA;AAAA,mCAAmC,kBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BACnBA,GAAG,CAACC,IAAJ,CAASA,IADU;;AAAA;AAC9BI,oBAAAA,EAD8B;AAElCR,oBAAAA,QAAQ,CAACS,IAAT,CAAcD,EAAd;;AAFkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAnC;;AAAA;AAAA;AAAA;AAAA;AAIA;AACD,KATD,EASGN,IATH,CASQ,YAAM;AACb,YAAKQ,QAAL,CAAc;AACDrB,QAAAA,IAAI,EAAEW,QAAQ,CAACW,GAAT,CAAa,UAACH,EAAD,EAAQ;AACvB,iBACI,oBAAC,IAAD,CAAM,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACA,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACA,oBAAC,KAAD;AAAO,YAAA,OAAO,EAAE;AAAA,qBAAM,MAAKb,kBAAL,CAAwBa,EAAE,CAACI,GAA3B,CAAN;AAAA,aAAhB;AAAuD,YAAA,GAAG,EAAEJ,EAAE,CAACK,OAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADA,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACQL,EAAE,CAACM,KADX,EAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFA,EAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHA,eAIUN,EAAE,CAACO,OAJb,EAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALA,EAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YANA,mBAOcP,EAAE,CAACQ,WAPjB,CAFJ,CADA,EAaA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAbA,CADJ;AAiBH,SAlBK;AADL,OAAd;AAqBM,KA/BP;AAiCA9B,IAAAA,KAAK,CAACe,GAAN,CAAUJ,IAAI,GAAGN,EAAjB,EAAqBW,IAArB;AAAA;AAAA;AAAA;AAAA;AAAA,+BAA0B,kBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACRA,GAAG,CAACC,IAAJ,CAASA,IAAT,CAAca,WADN;;AAAA;AACzBlB,gBAAAA,QADyB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA1B;;AAAA;AAAA;AAAA;AAAA,SAEGG,IAFH,CAEQ,YAAM;AACb,WAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGP,QAAQ,CAACQ,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;AACzCpB,QAAAA,KAAK,CAACe,GAAN,CAAUH,IAAI,GAAGC,QAAQ,CAACO,CAAD,CAAzB,EAA8BJ,IAA9B;AAAA;AAAA;AAAA;AAAA;AAAA,mCAAmC,kBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BACnBA,GAAG,CAACC,IAAJ,CAASA,IADU;;AAAA;AAC9BI,oBAAAA,EAD8B;AAElCR,oBAAAA,QAAQ,CAACS,IAAT,CAAcD,EAAd;;AAFkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAnC;;AAAA;AAAA;AAAA;AAAA;AAIA;AAED,KAVD,EAUGN,IAVH,CAUQ,YAAM;AACbgB,MAAAA,OAAO,CAACC,GAAR,CAAYnB,QAAZ;;AACA,YAAKU,QAAL,CAAc;AACDpB,QAAAA,IAAI,EAAEU,QAAQ,CAACW,GAAT,CAAa,UAACH,EAAD,EAAQ;AACvB,iBACI,oBAAC,IAAD,CAAM,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACA,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACA,oBAAC,KAAD;AAAO,YAAA,OAAO,EAAE;AAAA,qBAAM,MAAKb,kBAAL,CAAwBa,EAAE,CAACI,GAA3B,CAAN;AAAA,aAAhB;AAAuD,YAAA,GAAG,EAAEJ,EAAE,CAACK,OAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADA,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACQL,EAAE,CAACM,KADX,EAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFA,EAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHA,eAIUN,EAAE,CAACO,OAJb,EAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALA,EAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YANA,mBAOcP,EAAE,CAACQ,WAPjB,CAFJ,CADA,EAaA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAbA,CADJ;AAiBH,SAlBK;AADL,OAAd;AAqBM,KAjCP;AA/Ca;AAiFV;;;;uCAEeI,K,EAAO;AACnB5B,MAAAA,MAAM,CAAC6B,QAAP,CAAgBC,IAAhB,GAAuB,mCAAmCF,KAA1D;AACH;;;6BAEQ;AACL,aACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADD,EAEC,oBAAC,IAAD;AAAM,QAAA,SAAS,MAAf;AAAgB,QAAA,OAAO,EAAE,CAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACEF,OAAO,CAACC,GAAR,CAAY,kBAAkB,KAAK/B,KAAL,CAAWE,IAAzC,CADF,EAEC,oBAAC,IAAD,CAAM,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,KAAKF,KAAL,CAAWE,IADZ,CAFD,CAFD,EAQF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BARE,EASC,oBAAC,IAAD;AAAM,QAAA,SAAS,MAAf;AAAgB,QAAA,OAAO,EAAE,CAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,IAAD,CAAM,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,KAAKF,KAAL,CAAWC,IADZ,CADD,CATD,CADA;AAiBH;;;;EA1GiBP,S;;AA6GtB,eAAeK,OAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Grid, Image, Segment } from 'semantic-ui-react'\nimport axios from 'axios'\n\nclass Content extends Component {\n\tconstructor() {\n\t\tsuper()\n\t\tthis.state = {\n\t\t\twish: [],\n\t\t\tpost: []\n\t\t};\n\t\tvar id = window.sessionStorage.getItem('userId');\n\t\tthis.detailClickHandler = this.detailClickHandler.bind(this);\n\n\t\tvar user = 'http://localhost:8000/api/users/';\n\t\tvar book = 'http://localhost:8000/api/books/';\n\n\t\tvar tempName = []\n\t\tvar tempBook = []\n\t\taxios.get(user + id).then(async (res) => {\n\t\t\ttempName = await res.data.data.wishedBooks\n\t\t}).then(() => {\n\t\t\tfor (var i = 0; i < tempName.length; i++) {\n\t\t\t\taxios.get(book + tempName[i]).then(async (res) => {\n\t\t\t\t\tvar bk = await res.data.data\n\t\t\t\t\ttempBook.push(bk)\n\t\t\t\t})\n\t\t\t}\n\t\t}).then(() => {\n\t\t\tthis.setState({\n                wish: tempBook.map((bk) => {\n                    return (\n                        <Grid.Column>\n                        <Segment>\n                        <Image onClick={() => this.detailClickHandler(bk._id)} src={bk.picture} />\n                            <p>\n                            Title: {bk.title}\n                            <br/>\n                            <br/>\n                            College: {bk.college}\n                            <br/>\n                            <br/>\n                            Description: {bk.description}\n                            </p>\n                        </Segment>\n                        <br/>\n                        </Grid.Column>\n                    )\n                })\n            })\n        })\n\n\t\taxios.get(user + id).then(async (res) => {\n\t\t\ttempName = await res.data.data.postedBooks\n\t\t}).then(() => {\n\t\t\tfor (var i = 0; i < tempName.length; i++) {\n\t\t\t\taxios.get(book + tempName[i]).then(async (res) => {\n\t\t\t\t\tvar bk = await res.data.data\n\t\t\t\t\ttempBook.push(bk)\n\t\t\t\t})\n\t\t\t}\n\t\t\t\n\t\t}).then(() => {\n\t\t\tconsole.log(tempBook)\n\t\t\tthis.setState({\n                post: tempBook.map((bk) => {\n                    return (\n                        <Grid.Column>\n                        <Segment>\n                        <Image onClick={() => this.detailClickHandler(bk._id)} src={bk.picture} />\n                            <p>\n                            Title: {bk.title}\n                            <br/>\n                            <br/>\n                            College: {bk.college}\n                            <br/>\n                            <br/>\n                            Description: {bk.description}\n                            </p>\n                        </Segment>\n                        <br/>\n                        </Grid.Column>\n                    )\n                })\n            })\n        })\n    }\n\n\tdetailClickHandler(value) {\n        window.location.href = 'http://localhost:3000/details/' + value;\n    }\n\n    render() {\n        return(\n       \t<div>\n       \t\t<h2> Posted Books </h2>\n\t        <Grid stackable columns={3}>\n\t        \t{console.log(\"posted books \" + this.state.post)}\n\t\t        <Grid.Row>\n\t\t        {this.state.post}\n\t\t        </Grid.Row>\n\t    \t</Grid>\n\t    \t<h2> Wished Books </h2>\n\t        <Grid stackable columns={3}>\n\t\t        <Grid.Row>\n\t\t        {this.state.wish}\n\t\t        </Grid.Row>\n\t    \t</Grid>\n\t    </div>\n    \t)\n    }\n}\n\nexport default Content;"]},"metadata":{},"sourceType":"module"}