{"ast":null,"code":"import _regeneratorRuntime from \"/home/qingyu/Desktop/react-firebase-demo/front-end/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/qingyu/Desktop/react-firebase-demo/front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/qingyu/Desktop/react-firebase-demo/front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/qingyu/Desktop/react-firebase-demo/front-end/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/qingyu/Desktop/react-firebase-demo/front-end/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/qingyu/Desktop/react-firebase-demo/front-end/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/qingyu/Desktop/react-firebase-demo/front-end/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/qingyu/Desktop/react-firebase-demo/front-end/src/components/Content/index.js\";\nimport React, { Component } from 'react';\nimport { Grid, Image, Segment } from 'semantic-ui-react';\nimport axios from 'axios';\n\nvar Content =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Content, _Component);\n\n  function Content() {\n    var _this;\n\n    _classCallCheck(this, Content);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Content).call(this));\n    _this.state = {\n      wish: [],\n      post: []\n    };\n    var id = window.sessionStorage.getItem('userId');\n    var user = 'http://localhost:8000/api/users';\n    var book = 'http://localhost:8000/api/books';\n    var tempName;\n    var tempBook;\n    axios.get(user + id).then(\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(res) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return res.data.data.wishedBooks;\n\n              case 2:\n                tempName = _context.sent;\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()).then(function () {\n      for (var x in tempName) {\n        axios.get(book + x).then(\n        /*#__PURE__*/\n        function () {\n          var _ref2 = _asyncToGenerator(\n          /*#__PURE__*/\n          _regeneratorRuntime.mark(function _callee2(res) {\n            var bk;\n            return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n              while (1) {\n                switch (_context2.prev = _context2.next) {\n                  case 0:\n                    _context2.next = 2;\n                    return res.data.data;\n\n                  case 2:\n                    bk = _context2.sent;\n                    tempBook.push(bk);\n\n                  case 4:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }\n            }, _callee2, this);\n          }));\n\n          return function (_x2) {\n            return _ref2.apply(this, arguments);\n          };\n        }());\n      }\n    }).then(function () {\n      _this.setState({\n        wish: tempBook.map(function (bk) {\n          return React.createElement(Grid.Column, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 32\n            },\n            __self: this\n          }, React.createElement(Segment, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 33\n            },\n            __self: this\n          }, React.createElement(Image, {\n            onClick: function onClick() {\n              return _this.detailClickHandler(bk._id);\n            },\n            src: bk.picture,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 34\n            },\n            __self: this\n          }), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 35\n            },\n            __self: this\n          }, \"Title: \", bk.title, React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 37\n            },\n            __self: this\n          }), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 38\n            },\n            __self: this\n          }), \"College: \", bk.college, React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 40\n            },\n            __self: this\n          }), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 41\n            },\n            __self: this\n          }), \"Description: \", bk.description)), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 45\n            },\n            __self: this\n          }));\n        })\n      });\n    });\n    axios.get(user + id).then(\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(res) {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return res.data.data.postedBooks;\n\n              case 2:\n                tempName = _context3.sent;\n\n              case 3:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      return function (_x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }()).then(function () {\n      for (x in tempName) {\n        axios.get(book + x).then(\n        /*#__PURE__*/\n        function () {\n          var _ref4 = _asyncToGenerator(\n          /*#__PURE__*/\n          _regeneratorRuntime.mark(function _callee4(res) {\n            var bk;\n            return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n              while (1) {\n                switch (_context4.prev = _context4.next) {\n                  case 0:\n                    _context4.next = 2;\n                    return res.data.data;\n\n                  case 2:\n                    bk = _context4.sent;\n                    tempBook.push(bk);\n\n                  case 4:\n                  case \"end\":\n                    return _context4.stop();\n                }\n              }\n            }, _callee4, this);\n          }));\n\n          return function (_x4) {\n            return _ref4.apply(this, arguments);\n          };\n        }());\n      }\n    }).then(function () {\n      _this.setState({\n        post: tempBook.map(function (bk) {\n          return React.createElement(Grid.Column, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 66\n            },\n            __self: this\n          }, React.createElement(Segment, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 67\n            },\n            __self: this\n          }, React.createElement(Image, {\n            onClick: function onClick() {\n              return _this.detailClickHandler(bk._id);\n            },\n            src: bk.picture,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 68\n            },\n            __self: this\n          }), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 69\n            },\n            __self: this\n          }, \"Title: \", bk.title, React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 71\n            },\n            __self: this\n          }), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 72\n            },\n            __self: this\n          }), \"College: \", bk.college, React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 74\n            },\n            __self: this\n          }), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 75\n            },\n            __self: this\n          }), \"Description: \", bk.description)), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 79\n            },\n            __self: this\n          }));\n        })\n      });\n    });\n    return _this;\n  }\n\n  _createClass(Content, [{\n    key: \"detailClickHandler\",\n    value: function detailClickHandler(value) {\n      window.location.href = 'http://localhost:3000/details/' + value;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Grid, {\n        stackable: true,\n        columns: 3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(Grid.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, this.state.wish));\n    }\n  }]);\n\n  return Content;\n}(Component);\n\nexport default Content;","map":{"version":3,"sources":["/home/qingyu/Desktop/react-firebase-demo/front-end/src/components/Content/index.js"],"names":["React","Component","Grid","Image","Segment","axios","Content","state","wish","post","id","window","sessionStorage","getItem","user","book","tempName","tempBook","get","then","res","data","wishedBooks","x","bk","push","setState","map","detailClickHandler","_id","picture","title","college","description","postedBooks","value","location","href"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,EAAeC,KAAf,EAAsBC,OAAtB,QAAqC,mBAArC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;IAEMC,O;;;;;AACL,qBAAc;AAAA;;AAAA;;AACb;AACA,UAAKC,KAAL,GAAa;AACZC,MAAAA,IAAI,EAAE,EADM;AAEZC,MAAAA,IAAI,EAAE;AAFM,KAAb;AAIA,QAAIC,EAAE,GAAGC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,QAA9B,CAAT;AAEA,QAAIC,IAAI,GAAG,iCAAX;AACA,QAAIC,IAAI,GAAG,iCAAX;AAEA,QAAIC,QAAJ;AACA,QAAIC,QAAJ;AACAZ,IAAAA,KAAK,CAACa,GAAN,CAAUJ,IAAI,GAAGJ,EAAjB,EAAqBS,IAArB;AAAA;AAAA;AAAA;AAAA;AAAA,+BAA0B,iBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACRA,GAAG,CAACC,IAAJ,CAASA,IAAT,CAAcC,WADN;;AAAA;AACzBN,gBAAAA,QADyB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA1B;;AAAA;AAAA;AAAA;AAAA,SAEGG,IAFH,CAEQ,YAAM;AACb,WAAK,IAAII,CAAT,IAAcP,QAAd,EAAwB;AACvBX,QAAAA,KAAK,CAACa,GAAN,CAAUH,IAAI,GAAGQ,CAAjB,EAAoBJ,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA,mCAAyB,kBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BACTA,GAAG,CAACC,IAAJ,CAASA,IADA;;AAAA;AACpBG,oBAAAA,EADoB;AAExBP,oBAAAA,QAAQ,CAACQ,IAAT,CAAcD,EAAd;;AAFwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAzB;;AAAA;AAAA;AAAA;AAAA;AAIA;AACD,KATD,EASGL,IATH,CASQ,YAAM;AACb,YAAKO,QAAL,CAAc;AACDlB,QAAAA,IAAI,EAAES,QAAQ,CAACU,GAAT,CAAa,UAACH,EAAD,EAAQ;AACvB,iBACI,oBAAC,IAAD,CAAM,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACA,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACA,oBAAC,KAAD;AAAO,YAAA,OAAO,EAAE;AAAA,qBAAM,MAAKI,kBAAL,CAAwBJ,EAAE,CAACK,GAA3B,CAAN;AAAA,aAAhB;AAAuD,YAAA,GAAG,EAAEL,EAAE,CAACM,OAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADA,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACQN,EAAE,CAACO,KADX,EAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFA,EAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHA,eAIUP,EAAE,CAACQ,OAJb,EAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALA,EAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YANA,mBAOcR,EAAE,CAACS,WAPjB,CAFJ,CADA,EAaA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAbA,CADJ;AAiBH,SAlBK;AADL,OAAd;AAqBM,KA/BP;AAiCA5B,IAAAA,KAAK,CAACa,GAAN,CAAUJ,IAAI,GAAGJ,EAAjB,EAAqBS,IAArB;AAAA;AAAA;AAAA;AAAA;AAAA,+BAA0B,kBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACRA,GAAG,CAACC,IAAJ,CAASA,IAAT,CAAca,WADN;;AAAA;AACzBlB,gBAAAA,QADyB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA1B;;AAAA;AAAA;AAAA;AAAA,SAEGG,IAFH,CAEQ,YAAM;AACb,WAAKI,CAAL,IAAUP,QAAV,EAAoB;AACnBX,QAAAA,KAAK,CAACa,GAAN,CAAUH,IAAI,GAAGQ,CAAjB,EAAoBJ,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA,mCAAyB,kBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BACTA,GAAG,CAACC,IAAJ,CAASA,IADA;;AAAA;AACpBG,oBAAAA,EADoB;AAExBP,oBAAAA,QAAQ,CAACQ,IAAT,CAAcD,EAAd;;AAFwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAzB;;AAAA;AAAA;AAAA;AAAA;AAIA;AAED,KAVD,EAUGL,IAVH,CAUQ,YAAM;AACb,YAAKO,QAAL,CAAc;AACDjB,QAAAA,IAAI,EAAEQ,QAAQ,CAACU,GAAT,CAAa,UAACH,EAAD,EAAQ;AACvB,iBACI,oBAAC,IAAD,CAAM,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACA,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACA,oBAAC,KAAD;AAAO,YAAA,OAAO,EAAE;AAAA,qBAAM,MAAKI,kBAAL,CAAwBJ,EAAE,CAACK,GAA3B,CAAN;AAAA,aAAhB;AAAuD,YAAA,GAAG,EAAEL,EAAE,CAACM,OAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADA,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACQN,EAAE,CAACO,KADX,EAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFA,EAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHA,eAIUP,EAAE,CAACQ,OAJb,EAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALA,EAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YANA,mBAOcR,EAAE,CAACS,WAPjB,CAFJ,CADA,EAaA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAbA,CADJ;AAiBH,SAlBK;AADL,OAAd;AAqBM,KAhCP;AA9Ca;AA+EV;;;;uCAEeE,K,EAAO;AACnBxB,MAAAA,MAAM,CAACyB,QAAP,CAAgBC,IAAhB,GAAuB,mCAAmCF,KAA1D;AACH;;;6BAEQ;AACL,aACA,oBAAC,IAAD;AAAM,QAAA,SAAS,MAAf;AAAgB,QAAA,OAAO,EAAE,CAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,IAAD,CAAM,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,KAAK5B,KAAL,CAAWC,IADZ,CADD,CADA;AAOH;;;;EA9FiBP,S;;AAkGtB,eAAeK,OAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Grid, Image, Segment } from 'semantic-ui-react'\nimport axios from 'axios'\n\nclass Content extends Component {\n\tconstructor() {\n\t\tsuper()\n\t\tthis.state = {\n\t\t\twish: [],\n\t\t\tpost: []\n\t\t};\n\t\tvar id = window.sessionStorage.getItem('userId');\n\n\t\tvar user = 'http://localhost:8000/api/users';\n\t\tvar book = 'http://localhost:8000/api/books';\n\n\t\tvar tempName\n\t\tvar tempBook\n\t\taxios.get(user + id).then(async (res) => {\n\t\t\ttempName = await res.data.data.wishedBooks\n\t\t}).then(() => {\n\t\t\tfor (var x in tempName) {\n\t\t\t\taxios.get(book + x).then(async (res) => {\n\t\t\t\t\tvar bk = await res.data.data\n\t\t\t\t\ttempBook.push(bk)\n\t\t\t\t})\n\t\t\t}\n\t\t}).then(() => {\n\t\t\tthis.setState({\n                wish: tempBook.map((bk) => {\n                    return (\n                        <Grid.Column>\n                        <Segment>\n                        <Image onClick={() => this.detailClickHandler(bk._id)} src={bk.picture} />\n                            <p>\n                            Title: {bk.title}\n                            <br/>\n                            <br/>\n                            College: {bk.college}\n                            <br/>\n                            <br/>\n                            Description: {bk.description}\n                            </p>\n                        </Segment>\n                        <br/>\n                        </Grid.Column>\n                    )\n                })\n            })\n        })\n\n\t\taxios.get(user + id).then(async (res) => {\n\t\t\ttempName = await res.data.data.postedBooks\n\t\t}).then(() => {\n\t\t\tfor (x in tempName) {\n\t\t\t\taxios.get(book + x).then(async (res) => {\n\t\t\t\t\tvar bk = await res.data.data\n\t\t\t\t\ttempBook.push(bk)\n\t\t\t\t})\n\t\t\t}\n\t\t\t\n\t\t}).then(() => {\n\t\t\tthis.setState({\n                post: tempBook.map((bk) => {\n                    return (\n                        <Grid.Column>\n                        <Segment>\n                        <Image onClick={() => this.detailClickHandler(bk._id)} src={bk.picture} />\n                            <p>\n                            Title: {bk.title}\n                            <br/>\n                            <br/>\n                            College: {bk.college}\n                            <br/>\n                            <br/>\n                            Description: {bk.description}\n                            </p>\n                        </Segment>\n                        <br/>\n                        </Grid.Column>\n                    )\n                })\n            })\n        })\n    }\n\n\tdetailClickHandler(value) {\n        window.location.href = 'http://localhost:3000/details/' + value;\n    }    \n\n    render() {\n        return(\n        <Grid stackable columns={3}>\n\t        <Grid.Row>\n\t        {this.state.wish}\n\t        </Grid.Row>\n    \t</Grid>\n    \t)    \t\n    }\n\n}\n\nexport default Content;"]},"metadata":{},"sourceType":"module"}